<section {{ (content.layout == "Carousel") ? 'data-module="infopanelcarousel"' : '' }} {% include 'helpers/section_id.twig' with { 'id': content.layout_settings.section_options.id } %} class="info-cards {% include 'helpers/section_classes.twig' with { 'options': content.layout_settings.section_options } %}">
  <div class="container">
    {% if content.row_center %}
    <div class="row row--justify-center text--center row--pad-bot-lg">
      <div class="col col--reset-mar-bot">
        <p class="h2">{{content.section_title}}</p>
        {% if content.intro %}<p>{{ content.intro }}</p>{% endif %}
      </div>
    </div>
    {% else %}
    <div class="row row--pad-bot-lg">
      <div class="col col--5@xl col--reset-mar-bot">
        <p class="h2">{{content.section_title}}</p>
        {% if content.intro %}<p>{{ content.intro }}</p>{% endif %}
      </div>
  </div>
  {% endif %}
    <div class="row flush-right-carousel {{ (content.info_cards|length == 4) ? 'tablet-only-carousel' : 'always-carousel' }} js-info-panel-carousel">
      {% for card in content.info_cards %}
        <div class="col col--6@med col--{{ content.number_of_columns }}@{{ (content.number_of_columns == 3) ? 'wide' : 'xl' }} carousel-cell">
          {% include 'molecules/info_card.twig' with {
            'content': card,
            'colour': content,
            'slim': (content.number_of_columns == 3) ? true : false
          } %}
        </div>
      {% endfor %}

      {% if content.buttons %}
        <div class="row">
          <div class="col col--12@med text--center">
            {% include 'molecules/button_group.twig' with {
              'buttons': content.buttons,
              'class_list': 'button_group--center'
            } %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
  {% include 'helpers/styled_background.twig' with { 'options': content.layout_settings.section_options } %}
</section>
